[package]
name = "virtual_machine"
version = "0.1.0"
edition = "2024"

[target.'cfg(not(target_arch = "wasm32"))'.dependencies]
wamr-rust-sdk = { git = "https://github.com/bytecodealliance/wamr-rust-sdk.git", features = [
  "multi-module",
] }

shared = { workspace = true }
memory = { workspace = true }
file_system = { workspace = true }
virtual_file_system = { workspace = true }
little_fs = { workspace = true }
task = { workspace = true }
time = { workspace = true }
abi_declarations = { workspace = true }
abi_context = { workspace = true }
synchronization = { workspace = true }

[dev-dependencies]
abi_definitions = { workspace = true }
users = { workspace = true }
drivers_native = { workspace = true }
drivers_core = { workspace = true }
drivers_shared = { workspace = true }
drivers_std = { workspace = true }
futures = { workspace = true }
log = { workspace = true }
executable = { workspace = true, features = ["building"] }

[[test]]
name = "virtual_machine_test"
path = "tests/test.rs"

[[test]]
name = "virtual_machine_test_2"
path = "tests/test_2.rs"

[[test]]
name = "virtual_machine_test_3"
path = "tests/test_3.rs"
